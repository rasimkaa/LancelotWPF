<Window x:Class="LancelotWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ÐžÐžÐž Â«ÐŸÐž Â«Ð›ÐÐÐ¦Ð•Ð›ÐžÐ¢Â» â€” Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ"
        Width="1200" Height="740"
        MinWidth="960" MinHeight="600"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BgDeep}"
        WindowStyle="None" AllowsTransparency="True">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolVis"/>
    </Window.Resources>

    <Border CornerRadius="12" BorderBrush="{StaticResource GoldDim}" BorderThickness="1">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="220"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Background="{StaticResource BgPanel}" CornerRadius="12,0,0,12">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Margin="20,28,20,20">
                        <TextBlock Text="LANCELOT" Foreground="{StaticResource GoldBrush}"
                                   FontSize="22" FontWeight="Black" FontFamily="Palatino Linotype"/>
                        <Rectangle Height="1" Fill="{StaticResource GoldDim}" Margin="0,10,0,2"/>
                        <TextBlock Text="Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ" Foreground="{StaticResource TextSecondary}" FontSize="10"/>
                    </StackPanel>

                    <StackPanel Grid.Row="1" Margin="0,10,0,0">
                        <RadioButton Style="{StaticResource NavBtn}" Content="Ð”Ð°ÑˆÐ±Ð¾Ñ€Ð´" Tag="â¬›"
                                     x:Name="NavDash" GroupName="Nav" IsChecked="True"
                                     Checked="NavDash_Checked"/>
                        <RadioButton Style="{StaticResource NavBtn}" Content="Ð¢Ð¾Ð²Ð°Ñ€Ñ‹" Tag="ðŸ“¦"
                                     x:Name="NavProducts" GroupName="Nav" Checked="NavProducts_Checked"/>
                        <RadioButton Style="{StaticResource NavBtn}" Content="Ð‘Ñ€ÐµÐ½Ð´Ñ‹" Tag="ðŸ·"
                                     x:Name="NavBrands" GroupName="Nav" Checked="NavBrands_Checked"/>
                        <RadioButton Style="{StaticResource NavBtn}" Content="ÐœÐ°Ð³Ð°Ð·Ð¸Ð½Ñ‹" Tag="ðŸª"
                                     x:Name="NavStores" GroupName="Nav" Checked="NavStores_Checked"/>
                        <RadioButton Style="{StaticResource NavBtn}" Content="Ð—Ð°ÐºÐ°Ð·Ñ‹" Tag="ðŸ“‹"
                                     x:Name="NavOrders" GroupName="Nav" Checked="NavOrders_Checked"/>
                    </StackPanel>

                    <StackPanel Grid.Row="2" Margin="20,0,20,18">
                        <Rectangle Height="1" Fill="{StaticResource BorderBrush2}" Margin="0,0,0,12"/>
                        <TextBlock Text="v 1.0  Â·  2026" Foreground="{StaticResource TextSecondary}"
                                   FontSize="11" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Border>

            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="48"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0" Background="{StaticResource BgDeep}"
                        MouseLeftButtonDown="TitleBar_MouseDown" CornerRadius="0,12,0,0">
                    <Grid>
                        <TextBlock x:Name="TbPageTitle" Text="Ð”Ð°ÑˆÐ±Ð¾Ñ€Ð´"
                                   Foreground="{StaticResource TextPrimary}"
                                   FontSize="15" FontWeight="SemiBold"
                                   VerticalAlignment="Center" Margin="20,0,0,0"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"
                                    Margin="0,0,12,0" VerticalAlignment="Center">
                            <Button Content="â€”" Width="32" Height="28" FontSize="14"
                                    Background="Transparent" Foreground="{StaticResource TextSecondary}"
                                    BorderThickness="0" Cursor="Hand" Click="BtnMinimize_Click"/>
                            <Button Content="âœ•" Width="32" Height="28" FontSize="13"
                                    Background="Transparent" Foreground="{StaticResource TextSecondary}"
                                    BorderThickness="0" Cursor="Hand" Click="BtnClose_Click"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <Border Grid.Row="1" Padding="24,16,24,20">
                    <Grid>

                        <!-- DASHBOARD -->
                        <ScrollViewer x:Name="PageDash" Visibility="Visible"
                                      VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <TextBlock Text="ÐžÐ±Ð·Ð¾Ñ€ Ð¿Ñ€ÐµÐ´Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ"
                                           Foreground="{StaticResource TextSecondary}"
                                           FontSize="12" Margin="0,0,0,18"/>
                                <UniformGrid Columns="4" Margin="0,0,0,24">
                                    <Border Margin="0,0,12,0" Background="{StaticResource BgCard}"
                                            CornerRadius="8" Padding="18,16">
                                        <StackPanel>
                                            <TextBlock Text="Ð¢ÐžÐ’ÐÐ Ð«" Foreground="{StaticResource TextSecondary}" FontSize="10"/>
                                            <TextBlock x:Name="KpiProducts" Text="â€”"
                                                       Foreground="{StaticResource GoldBrush}"
                                                       FontSize="32" FontWeight="Bold" Margin="0,4,0,0"/>
                                            <TextBlock Text="Ð½Ð°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ð¹" Foreground="{StaticResource TextSecondary}" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Margin="0,0,12,0" Background="{StaticResource BgCard}"
                                            CornerRadius="8" Padding="18,16">
                                        <StackPanel>
                                            <TextBlock Text="ÐœÐÐ“ÐÐ—Ð˜ÐÐ«" Foreground="{StaticResource TextSecondary}" FontSize="10"/>
                                            <TextBlock x:Name="KpiStores" Text="â€”"
                                                       Foreground="{StaticResource GoldBrush}"
                                                       FontSize="32" FontWeight="Bold" Margin="0,4,0,0"/>
                                            <TextBlock Text="Ñ‚Ð¾Ñ€Ð³Ð¾Ð²Ñ‹Ñ… Ñ‚Ð¾Ñ‡ÐµÐº" Foreground="{StaticResource TextSecondary}" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Margin="0,0,12,0" Background="{StaticResource BgCard}"
                                            CornerRadius="8" Padding="18,16">
                                        <StackPanel>
                                            <TextBlock Text="Ð—ÐÐšÐÐ—Ð«" Foreground="{StaticResource TextSecondary}" FontSize="10"/>
                                            <TextBlock x:Name="KpiOrders" Text="â€”"
                                                       Foreground="{StaticResource GoldBrush}"
                                                       FontSize="32" FontWeight="Bold" Margin="0,4,0,0"/>
                                            <TextBlock Text="Ð²ÑÐµÐ³Ð¾ Ð·Ð°ÐºÐ°Ð·Ð¾Ð²" Foreground="{StaticResource TextSecondary}" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Background="{StaticResource BgCard}"
                                            CornerRadius="8" Padding="18,16">
                                        <StackPanel>
                                            <TextBlock Text="Ð’Ð«Ð Ð£Ð§ÐšÐ" Foreground="{StaticResource TextSecondary}" FontSize="10"/>
                                            <TextBlock x:Name="KpiRevenue" Text="â€”"
                                                       Foreground="{StaticResource GoldBrush}"
                                                       FontSize="26" FontWeight="Bold" Margin="0,4,0,0"/>
                                            <TextBlock Text="Ñ€ÑƒÐ±. ÑÑƒÐ¼Ð¼Ð° Ð·Ð°ÐºÐ°Ð·Ð¾Ð²" Foreground="{StaticResource TextSecondary}" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                </UniformGrid>

                                <TextBlock Text="Ð‘Ð Ð•ÐÐ”Ð«" Foreground="{StaticResource TextSecondary}"
                                           FontSize="10" Margin="0,0,0,10"/>
                                <Border Background="{StaticResource BgCard}" CornerRadius="8" Padding="0,0,0,8">
                                    <DataGrid x:Name="DashBrandsGrid" Style="{StaticResource GoldGrid}" MaxHeight="220" AutoGenerateColumns="True"/>
                                </Border>

                                <TextBlock Text="ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ˜Ð• Ð—ÐÐšÐÐ—Ð«" Foreground="{StaticResource TextSecondary}"
                                           FontSize="10" Margin="0,24,0,10"/>
                                <Border Background="{StaticResource BgCard}" CornerRadius="8" Padding="0,0,0,8">
                                    <DataGrid x:Name="DashOrdersGrid" Style="{StaticResource GoldGrid}" MaxHeight="220" AutoGenerateColumns="True"/>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>

                        <!-- PRODUCTS -->
                        <Grid x:Name="PageProducts" Visibility="Collapsed">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" Margin="0,0,0,14">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="TbProductSearch" Style="{StaticResource GoldTextBox}"
                                         Width="280" HorizontalAlignment="Left"
                                         TextChanged="ProductSearch_Changed"/>
                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                    <Button Content="ï¼‹ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" Style="{StaticResource GoldBtn}"
                                            Click="BtnAddProduct_Click" Margin="0,0,8,0"/>
                                    <Button Content="âœŽ Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ" Style="{StaticResource GhostBtn}"
                                            Click="BtnEditProduct_Click" Margin="0,0,8,0"/>
                                    <Button Content="ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" Style="{StaticResource RedBtn}"
                                            Click="BtnDeleteProduct_Click"/>
                                </StackPanel>
                            </Grid>
                            <Border Grid.Row="1" Background="{StaticResource BgCard}" CornerRadius="8" Padding="0,0,0,8">
                                <DataGrid x:Name="ProductsGrid" Style="{StaticResource GoldGrid}">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="ÐÑ€Ñ‚Ð¸ÐºÑƒÐ»"   Binding="{Binding Article}"   Width="110"/>
                                        <DataGridTextColumn Header="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ"  Binding="{Binding Name}"      Width="*"/>
                                        <DataGridTextColumn Header="Ð‘Ñ€ÐµÐ½Ð´"     Binding="{Binding Brand}"     Width="110"/>
                                        <DataGridTextColumn Header="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ" Binding="{Binding Category}"  Width="110"/>
                                        <DataGridTextColumn Header="Ð Ð°Ð·Ð¼ÐµÑ€"    Binding="{Binding Size}"      Width="70"/>
                                        <DataGridTextColumn Header="Ð¦Ð²ÐµÑ‚"      Binding="{Binding Color}"     Width="100"/>
                                        <DataGridTextColumn Header="Ð¦ÐµÐ½Ð°, Ñ€ÑƒÐ±."   Binding="{Binding Price}"     Width="90"/>
                                        <DataGridTextColumn Header="ÐžÑÑ‚Ð°Ñ‚Ð¾Ðº"   Binding="{Binding Stock}"     Width="80"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Border>
                        </Grid>

                        <!-- BRANDS -->
                        <Grid x:Name="PageBrands" Visibility="Collapsed">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" Margin="0,0,0,14">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Ð¢Ð¾Ñ€Ð³Ð¾Ð²Ñ‹Ðµ Ð¼Ð°Ñ€ÐºÐ¸ Ð¿Ñ€ÐµÐ´Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ"
                                           Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                    <Button Content="ï¼‹ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" Style="{StaticResource GoldBtn}"
                                            Click="BtnAddBrand_Click" Margin="0,0,8,0"/>
                                    <Button Content="ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" Style="{StaticResource RedBtn}"
                                            Click="BtnDeleteBrand_Click"/>
                                </StackPanel>
                            </Grid>
                            <Border Grid.Row="1" Background="{StaticResource BgCard}" CornerRadius="8" Padding="0,0,0,8">
                                <DataGrid x:Name="BrandsGrid" Style="{StaticResource GoldGrid}">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="ID"        Binding="{Binding BrandId}"     Width="50"/>
                                        <DataGridTextColumn Header="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ"  Binding="{Binding Name}"        Width="150"/>
                                        <DataGridTextColumn Header="Ð¡ÐµÐ³Ð¼ÐµÐ½Ñ‚"   Binding="{Binding Segment}"     Width="100"/>
                                        <DataGridTextColumn Header="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ"  Binding="{Binding Description}" Width="*"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Border>
                        </Grid>

                        <!-- STORES -->
                        <Grid x:Name="PageStores" Visibility="Collapsed">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" Margin="0,0,0,14">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Ð Ð¾Ð·Ð½Ð¸Ñ‡Ð½Ð°Ñ ÑÐµÑ‚ÑŒ"
                                           Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                    <Button Content="ï¼‹ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" Style="{StaticResource GoldBtn}"
                                            Click="BtnAddStore_Click" Margin="0,0,8,0"/>
                                    <Button Content="ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" Style="{StaticResource RedBtn}"
                                            Click="BtnDeleteStore_Click"/>
                                </StackPanel>
                            </Grid>
                            <Border Grid.Row="1" Background="{StaticResource BgCard}" CornerRadius="8" Padding="0,0,0,8">
                                <DataGrid x:Name="StoresGrid" Style="{StaticResource GoldGrid}">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ" Binding="{Binding Name}"      Width="*"/>
                                        <DataGridTextColumn Header="Ð“Ð¾Ñ€Ð¾Ð´"    Binding="{Binding City}"      Width="140"/>
                                        <DataGridTextColumn Header="ÐÐ´Ñ€ÐµÑ"    Binding="{Binding Address}"   Width="220"/>
                                        <DataGridTextColumn Header="Ð¢Ð¸Ð¿"      Binding="{Binding StoreType}" Width="100"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Border>
                        </Grid>

                        <!-- ORDERS -->
                        <Grid x:Name="PageOrders" Visibility="Collapsed">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="160"/>
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" Margin="0,0,0,14">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Ð–ÑƒÑ€Ð½Ð°Ð» Ð·Ð°ÐºÐ°Ð·Ð¾Ð²"
                                           Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                    <Button Content="ï¼‹ ÐÐ¾Ð²Ñ‹Ð¹ Ð·Ð°ÐºÐ°Ð·" Style="{StaticResource GoldBtn}"
                                            Click="BtnAddOrder_Click" Margin="0,0,8,0"/>
                                    <Button Content="ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" Style="{StaticResource RedBtn}"
                                            Click="BtnDeleteOrder_Click"/>
                                </StackPanel>
                            </Grid>
                            <Border Grid.Row="1" Background="{StaticResource BgCard}" CornerRadius="8" Padding="0,0,0,8">
                                <DataGrid x:Name="OrdersGrid" Style="{StaticResource GoldGrid}"
                                          SelectionChanged="OrdersGrid_SelectionChanged">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="â„–"        Binding="{Binding OrderId}"     Width="50"/>
                                        <DataGridTextColumn Header="ÐœÐ°Ð³Ð°Ð·Ð¸Ð½"  Binding="{Binding Store}"       Width="*"/>
                                        <DataGridTextColumn Header="Ð”Ð°Ñ‚Ð°"     Binding="{Binding OrderDate}"   Width="130"/>
                                        <DataGridTextColumn Header="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ"   Binding="{Binding Status}"      Width="120"/>
                                        <DataGridTextColumn Header="Ð¡ÑƒÐ¼Ð¼Ð°, Ñ€ÑƒÐ±." Binding="{Binding TotalAmount}" Width="110"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Border>
                            <TextBlock Grid.Row="2" Text="Ð¡ÐžÐ¡Ð¢ÐÐ’ Ð—ÐÐšÐÐ—Ð"
                                       Foreground="{StaticResource TextSecondary}"
                                       FontSize="10" Margin="0,14,0,8"/>
                            <Border Grid.Row="3" Background="{StaticResource BgCard}" CornerRadius="8" Padding="0,0,0,8">
                                <DataGrid x:Name="OrderItemsGrid" Style="{StaticResource GoldGrid}">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Ð¢Ð¾Ð²Ð°Ñ€"    Binding="{Binding Product}"   Width="*"/>
                                        <DataGridTextColumn Header="ÐšÐ¾Ð»-Ð²Ð¾"   Binding="{Binding Quantity}"  Width="80"/>
                                        <DataGridTextColumn Header="Ð¦ÐµÐ½Ð°, Ñ€ÑƒÐ±."  Binding="{Binding UnitPrice}" Width="100"/>
                                        <DataGridTextColumn Header="Ð˜Ñ‚Ð¾Ð³Ð¾, Ñ€ÑƒÐ±." Binding="{Binding Total}"     Width="110"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Border>
                        </Grid>

                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>